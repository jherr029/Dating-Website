<!DOCTYPE html>
<html ng-app>
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Please Date Me</title>
    
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.4/angular.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.0/css/bulma.min.css">

    <link rel="stylesheet" href="../css/style.css">
    
    
	<script src="https://www.gstatic.com/firebasejs/4.6.2/firebase.js"></script>
	<script>
	  // Initialize Firebase
	  var config = {
		apiKey: "AIzaSyBzP583ZXMjs_BKk1Kxnw9qHrtaZ7jq8Jg",
		authDomain: "test-project-7b02a.firebaseapp.com",
		databaseURL: "https://test-project-7b02a.firebaseio.com",
		projectId: "test-project-7b02a",
		storageBucket: "test-project-7b02a.appspot.com",
		messagingSenderId: "916154302194"
	  };
	  firebase.initializeApp(config);
	</script>
    
    <script src="app.js"></script>

<!--events script-->
 <script>
  function saveEvent(){
  
 
 
    const auth = firebase.auth();
      //get path and uid    
      const fb=firebase.database().ref().child('Events');
      var userid = auth.currentUser.uid;
    
      //get Elements on page store into data_to_save
    
      const eventName = document.getElementById('eventName').value;
      const eventLocation = document.getElementById('eventLocation').value;
      const eventDescription = document.getElementById('eventDescription').value;
     const eventDate = document.getElementById('eventDate').value;
    
      data_to_save = {eventName, eventLocation, eventDate, eventDescription}
    
      //store data into database    
      var windowchangePromise = fb.child(userid + eventName + '/').set(data_to_save);
      windowchangePromise.then(function(firebaseUser){
        window.location.href = "messaging.html";
      });
  
    }
 

 </script>

</head>


<body class="grayBg">

<script>MatchMaking()</script>
  <section>
    <div class="hero">
        <nav class="navbar topNav">
          <div class="container">
          <div class="navbar-brand">
          
            <a href="" class="navbar-item pinkText">
              PlsDate
            </a>

            <span class="navbar-burger burger" onclick="document.querySelector('.navbar-menu').classList.toggle('is-active');" data-target="navbarMenuHeroC">
            <span></span>
            <span></span>
            <span></span>
          </span>
          </div>

          <div id="navbarMenuHeroC" class="navbar-menu">
            <div class="navbar-end">
              <a href="profile.html" class="navbar-item pinkText">
                Settings
              </a> 
              <div class="navbar-end">
              <a href="index.html" class="navbar-item pinkText">
                Logout
              </a> 
              
            </div>
          </div>
        </div>
        </nav>
    </div>
  </section>

  <section>
    <div class="hero is-bold is-danger">
      <div class="hero-body">
        <div class="container">
          <h1 class="title">Events</h1>
          <h2 class="subtitle">Create events for other people to join</h2>
        </div>
      </div>

      <div class="hero-foot">
          <nav class="tabs is-boxed">
            <div class="container">
              <ul>
                <li><a href="matches.html">Home</a></li>
                <li><a href="messages.html">Messages</a></li>
                 <li class="is-active"><a href="makeEvent.html">Make an Event</a></li>
                 <li><a href = "viewEvent.html?arrnum=0">View Events</a></li>
              </ul>
            </div>
          </nav>
        </div>

    </div>
  </section>
   <!-- maybe add section here -->
   

    <section>
      <div class="hero">
        <div class="hero-head">
            <br><br><br><br>
        </div>
       <div class="hero-body">

           <div class="container">

            <br><br>

            <div class="box">

                <div class="field">

                    <h1 class="title pinkText is-size-2">Plan an Event</h1>
                    <hr>

                    <div class="control">
                        <input id="eventName" class="input is-danger" type="text" placeholder="Event Name">
                    </div>
                </div>

                <div class="field">
                    <div class="control">
                        <input id="eventLocation" class="input is-danger" type="text" placeholder="Location">
                    </div>
                </div>

                <div class="field">
                    <div class="control">
                        <input id="eventDate" class="input is-danger" type="text" placeholder="Date">
                    </div>
                </div>

            <!-- big text input box/area-->
              <div class="field">
               <div class="control">
                 <textarea id="eventDescription" class="textarea is-danger" type="text" placeholder="Details about your event."></textarea>
               </div>
              </div>
            
<!--adding a picture
    <div class="container" style = "width: 1110px;">
    
      <div class="box">
       
        <div class="field">
          <div class="control">
          
           <img id = "myimg" alt = 'Event Picture'>
            <div class="file is-danger has-name is-boxed">
            <label class="file-label">
                <input type="file" value="upload" id="fileButton" ></input>
            
            </label>
            </div>
          </div>  
        </div>
      </div>
    </div>
  </div>
    <!--
                 <div class="field">
                    <div class="control">
                     
                        <input id="eventDescription" class="input is-danger" type="text" placeholder="Describe your event!">
                    </div>
                </div>
-->
                <div class="columns">
                    <div class="column">
                        <input onclick="saveEvent()" class="button is-danger is-pulled-right" type="submit" value="Create Event">
                    </div>
                </div>

                <fb:login-button id="fb-btn" scope="public_profile,email,user_birthday" onlogin="checkLoginState();">
                    </fb:login-button>

            </div>
                <div id="profile"></div>
           </div>


       </div>
    </div>
</section>


</body>

</html>
